{
  "hash": "795f01101e5b42f0dfcb1ecc43a97cd8",
  "result": {
    "markdown": "---\ntitle: \"Base R\"\nsubtitle: \"Seminar[2] <- Data Wrangling, Desriptives & Visualisierung\"\nauthor: \"Simon Krukowski\"\nformat:\n  html:\n    code-fold: false\n    code-summary: \"Show code\"\n    df-print: paged\neditor: visual\nexecute:\n  freeze: true\n---\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\nlibrary(tidyverse)\nlibrary(reshape2)\nlibrary(reactable)\n\npalette1 <- c(\"#648fff\",\"#785ef0\",\"#dc267f\",\"#fe6100\",\"#ffb000\",\"#000000\",\"#ffffff\")\npalette2 <- c(\"#CC79A7\",\"#D55E00\",\"#0072B2\",\"#F0E442\",\"#009E73\",\"#56B4E9\",\"#E69F00\",\"#000000\")\n```\n:::\n\n\n# Data Wrangling: Base R\n\nIn der letzten Woche habt ihr kennengelernt, wie R & RStudio aufgebaut sind, wie die R-Syntax funktioniert, und was es für Datentypen & Funktionen gibt. In dieser Sitzung wollen wir darauf aufbauen und konkreter mit Daten arbeiten. Dabei werden zwei Packages eine große Rolle spielen: [`dyplr`](https://dplyr.tidyverse.org) und [`ggplot2`](https://ggplot2.tidyverse.org).\n\n## Iris Datensatz\n\nBeginnen wir also zunächst damit, Daten in R einzulesen. Wir werden heute mit dem `iris` Datensatz arbeiten, einem berühmten Datensatz von R.A. Fisher aus dem Jahr 1936, in dem verschiedene Eigenschaften in Bezug auf die Blütengröße verschiedener Spezies der Blume *Iris* enthalten sind (siehe [hier](https://www.comp.tmu.ac.jp/morbier/R/Fisher-1936-Ann._Eugen.pdf)).\n\n![Sources: Wikipedia; Danielle Langlois, Денис Анисимов & Eric Hunt](assets/img/irises.png){fig-align=\"center\" width=\"700\"}\n\nIm Zentrum des Datensatzes steht die Größe der verschiedenen Blatttypen für die jeweilige Spezies. Dabei gibt es die Blatttypen `Sepal` und `Petal`. Die folgende Grafik verdeutlicht das etwas:\n\n![](assets/img/iris_sepal_petal.png){fig-align=\"center\" width=\"500\"}\n\nDer Datensatz ist direkt im Package `datasets` integriert. Um allerdings zu lernen, wie wir Daten bspw. aus `.csv` einlesen, haben wir den Datensatz nochmal als einzelne Datei vorbereitet. Diese können wir hier herunterladen:\n\n\n{{< downloadthis assets/datasets/iris.csv label=\"Iris Datensatz\" icon=filetype-csv type=primary class=btn >}}\n\n\n\n### Exkurs: Trennzeichengetrennte Textdateien & CSV\n\n`.csv` ist ein typisches Datenformat, aus dem wir mit R Daten einlesen können. Wenn wir die Datei mit einem Textbearbeitungsprogramm öffnen, sehen wir, wie die Daten dort strukturiert sind:\n\n![.csv in einem Texteditor (hier Sublime Text)](assets/img/csv.png){fig-align=\"center\" width=\"600\"}\n\nWir sehen, dass die Daten einfach hintereinander per Text in der Datei gespeichert sind, und mit einem Trennzeichen (in diesem Fall das `,`) voneinander getrennt sind. Strings werden mit `\"` abgespeichert. Die erste Zeile beschreibt die Spaltennamen.\n\n## Daten einlesen\n\nNun wissen wir also, wie `.csv` Dateien funktionieren. Fangen wir also an, die Daten in R-einzulesen:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset <- read.csv(\"assets/datasets/iris.csv\")\n```\n:::\n\n\nDie Funktion `read.csv` liest die Dateien ein. Als Parameter müssen wir lediglich den Pfad zur Datei angeben. In unserem Fall handelt es sich um einen relativen Pfad - absolute Pfade würden auch funktionieren. In unserem Fall ist die Datei wir wir wissen mit Komma (`,`) getrennt, daher brauchen wir nichts weiter als Parameter zu übergeben. Achtung: Das deutsche Excel speichert Dateien bei `.csv` oft mit Semikolon (`;`) als Trennzeichen ab (aufrund des Kommas als Dezimaltrennzeichen).\n\n> Mac User:innen aufgepasst: Wenn ihr im Finder mit der rechten Maustaste auf eine Datei klickt, und dann `alt` bzw. `option` drückt, könnt ihr direkt den Pfad zur Datei in eure Zwischenablage kopieren. Das eignet sich hier bspw. besonders gut.\n\nWenn alles geklappt hat, sollte `dataset` rechts in unserem Environment auftauchen. Schauen wir es uns also an. Hierzu können wir entweder rechts oben auf das Objekt klicken, damit es sich im Viewer öffnet, oder wir schauen es uns hier an:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"X\"],\"name\":[1],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"Sepal.Length\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Sepal.Width\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Petal.Length\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Petal.Width\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Species\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"1\",\"2\":\"5.1\",\"3\":\"3.5\",\"4\":\"1.4\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"2\",\"2\":\"4.9\",\"3\":\"3.0\",\"4\":\"1.4\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"3\",\"2\":\"4.7\",\"3\":\"3.2\",\"4\":\"1.3\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"4\",\"2\":\"4.6\",\"3\":\"3.1\",\"4\":\"1.5\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"5\",\"2\":\"5.0\",\"3\":\"3.6\",\"4\":\"1.4\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"6\",\"2\":\"5.4\",\"3\":\"3.9\",\"4\":\"1.7\",\"5\":\"0.4\",\"6\":\"setosa\"},{\"1\":\"7\",\"2\":\"4.6\",\"3\":\"3.4\",\"4\":\"1.4\",\"5\":\"0.3\",\"6\":\"setosa\"},{\"1\":\"8\",\"2\":\"5.0\",\"3\":\"3.4\",\"4\":\"1.5\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"9\",\"2\":\"4.4\",\"3\":\"2.9\",\"4\":\"1.4\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"10\",\"2\":\"4.9\",\"3\":\"3.1\",\"4\":\"1.5\",\"5\":\"0.1\",\"6\":\"setosa\"},{\"1\":\"11\",\"2\":\"5.4\",\"3\":\"3.7\",\"4\":\"1.5\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"12\",\"2\":\"4.8\",\"3\":\"3.4\",\"4\":\"1.6\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"13\",\"2\":\"4.8\",\"3\":\"3.0\",\"4\":\"1.4\",\"5\":\"0.1\",\"6\":\"setosa\"},{\"1\":\"14\",\"2\":\"4.3\",\"3\":\"3.0\",\"4\":\"1.1\",\"5\":\"0.1\",\"6\":\"setosa\"},{\"1\":\"15\",\"2\":\"5.8\",\"3\":\"4.0\",\"4\":\"1.2\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"16\",\"2\":\"5.7\",\"3\":\"4.4\",\"4\":\"1.5\",\"5\":\"0.4\",\"6\":\"setosa\"},{\"1\":\"17\",\"2\":\"5.4\",\"3\":\"3.9\",\"4\":\"1.3\",\"5\":\"0.4\",\"6\":\"setosa\"},{\"1\":\"18\",\"2\":\"5.1\",\"3\":\"3.5\",\"4\":\"1.4\",\"5\":\"0.3\",\"6\":\"setosa\"},{\"1\":\"19\",\"2\":\"5.7\",\"3\":\"3.8\",\"4\":\"1.7\",\"5\":\"0.3\",\"6\":\"setosa\"},{\"1\":\"20\",\"2\":\"5.1\",\"3\":\"3.8\",\"4\":\"1.5\",\"5\":\"0.3\",\"6\":\"setosa\"},{\"1\":\"21\",\"2\":\"5.4\",\"3\":\"3.4\",\"4\":\"1.7\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"22\",\"2\":\"5.1\",\"3\":\"3.7\",\"4\":\"1.5\",\"5\":\"0.4\",\"6\":\"setosa\"},{\"1\":\"23\",\"2\":\"4.6\",\"3\":\"3.6\",\"4\":\"1.0\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"24\",\"2\":\"5.1\",\"3\":\"3.3\",\"4\":\"1.7\",\"5\":\"0.5\",\"6\":\"setosa\"},{\"1\":\"25\",\"2\":\"4.8\",\"3\":\"3.4\",\"4\":\"1.9\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"26\",\"2\":\"5.0\",\"3\":\"3.0\",\"4\":\"1.6\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"27\",\"2\":\"5.0\",\"3\":\"3.4\",\"4\":\"1.6\",\"5\":\"0.4\",\"6\":\"setosa\"},{\"1\":\"28\",\"2\":\"5.2\",\"3\":\"3.5\",\"4\":\"1.5\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"29\",\"2\":\"5.2\",\"3\":\"3.4\",\"4\":\"1.4\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"30\",\"2\":\"4.7\",\"3\":\"3.2\",\"4\":\"1.6\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"31\",\"2\":\"4.8\",\"3\":\"3.1\",\"4\":\"1.6\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"32\",\"2\":\"5.4\",\"3\":\"3.4\",\"4\":\"1.5\",\"5\":\"0.4\",\"6\":\"setosa\"},{\"1\":\"33\",\"2\":\"5.2\",\"3\":\"4.1\",\"4\":\"1.5\",\"5\":\"0.1\",\"6\":\"setosa\"},{\"1\":\"34\",\"2\":\"5.5\",\"3\":\"4.2\",\"4\":\"1.4\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"35\",\"2\":\"4.9\",\"3\":\"3.1\",\"4\":\"1.5\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"36\",\"2\":\"5.0\",\"3\":\"3.2\",\"4\":\"1.2\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"37\",\"2\":\"5.5\",\"3\":\"3.5\",\"4\":\"1.3\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"38\",\"2\":\"4.9\",\"3\":\"3.6\",\"4\":\"1.4\",\"5\":\"0.1\",\"6\":\"setosa\"},{\"1\":\"39\",\"2\":\"4.4\",\"3\":\"3.0\",\"4\":\"1.3\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"40\",\"2\":\"5.1\",\"3\":\"3.4\",\"4\":\"1.5\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"41\",\"2\":\"5.0\",\"3\":\"3.5\",\"4\":\"1.3\",\"5\":\"0.3\",\"6\":\"setosa\"},{\"1\":\"42\",\"2\":\"4.5\",\"3\":\"2.3\",\"4\":\"1.3\",\"5\":\"0.3\",\"6\":\"setosa\"},{\"1\":\"43\",\"2\":\"4.4\",\"3\":\"3.2\",\"4\":\"1.3\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"44\",\"2\":\"5.0\",\"3\":\"3.5\",\"4\":\"1.6\",\"5\":\"0.6\",\"6\":\"setosa\"},{\"1\":\"45\",\"2\":\"5.1\",\"3\":\"3.8\",\"4\":\"1.9\",\"5\":\"0.4\",\"6\":\"setosa\"},{\"1\":\"46\",\"2\":\"4.8\",\"3\":\"3.0\",\"4\":\"1.4\",\"5\":\"0.3\",\"6\":\"setosa\"},{\"1\":\"47\",\"2\":\"5.1\",\"3\":\"3.8\",\"4\":\"1.6\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"48\",\"2\":\"4.6\",\"3\":\"3.2\",\"4\":\"1.4\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"49\",\"2\":\"5.3\",\"3\":\"3.7\",\"4\":\"1.5\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"50\",\"2\":\"5.0\",\"3\":\"3.3\",\"4\":\"1.4\",\"5\":\"0.2\",\"6\":\"setosa\"},{\"1\":\"51\",\"2\":\"7.0\",\"3\":\"3.2\",\"4\":\"4.7\",\"5\":\"1.4\",\"6\":\"versicolor\"},{\"1\":\"52\",\"2\":\"6.4\",\"3\":\"3.2\",\"4\":\"4.5\",\"5\":\"1.5\",\"6\":\"versicolor\"},{\"1\":\"53\",\"2\":\"6.9\",\"3\":\"3.1\",\"4\":\"4.9\",\"5\":\"1.5\",\"6\":\"versicolor\"},{\"1\":\"54\",\"2\":\"5.5\",\"3\":\"2.3\",\"4\":\"4.0\",\"5\":\"1.3\",\"6\":\"versicolor\"},{\"1\":\"55\",\"2\":\"6.5\",\"3\":\"2.8\",\"4\":\"4.6\",\"5\":\"1.5\",\"6\":\"versicolor\"},{\"1\":\"56\",\"2\":\"5.7\",\"3\":\"2.8\",\"4\":\"4.5\",\"5\":\"1.3\",\"6\":\"versicolor\"},{\"1\":\"57\",\"2\":\"6.3\",\"3\":\"3.3\",\"4\":\"4.7\",\"5\":\"1.6\",\"6\":\"versicolor\"},{\"1\":\"58\",\"2\":\"4.9\",\"3\":\"2.4\",\"4\":\"3.3\",\"5\":\"1.0\",\"6\":\"versicolor\"},{\"1\":\"59\",\"2\":\"6.6\",\"3\":\"2.9\",\"4\":\"4.6\",\"5\":\"1.3\",\"6\":\"versicolor\"},{\"1\":\"60\",\"2\":\"5.2\",\"3\":\"2.7\",\"4\":\"3.9\",\"5\":\"1.4\",\"6\":\"versicolor\"},{\"1\":\"61\",\"2\":\"5.0\",\"3\":\"2.0\",\"4\":\"3.5\",\"5\":\"1.0\",\"6\":\"versicolor\"},{\"1\":\"62\",\"2\":\"5.9\",\"3\":\"3.0\",\"4\":\"4.2\",\"5\":\"1.5\",\"6\":\"versicolor\"},{\"1\":\"63\",\"2\":\"6.0\",\"3\":\"2.2\",\"4\":\"4.0\",\"5\":\"1.0\",\"6\":\"versicolor\"},{\"1\":\"64\",\"2\":\"6.1\",\"3\":\"2.9\",\"4\":\"4.7\",\"5\":\"1.4\",\"6\":\"versicolor\"},{\"1\":\"65\",\"2\":\"5.6\",\"3\":\"2.9\",\"4\":\"3.6\",\"5\":\"1.3\",\"6\":\"versicolor\"},{\"1\":\"66\",\"2\":\"6.7\",\"3\":\"3.1\",\"4\":\"4.4\",\"5\":\"1.4\",\"6\":\"versicolor\"},{\"1\":\"67\",\"2\":\"5.6\",\"3\":\"3.0\",\"4\":\"4.5\",\"5\":\"1.5\",\"6\":\"versicolor\"},{\"1\":\"68\",\"2\":\"5.8\",\"3\":\"2.7\",\"4\":\"4.1\",\"5\":\"1.0\",\"6\":\"versicolor\"},{\"1\":\"69\",\"2\":\"6.2\",\"3\":\"2.2\",\"4\":\"4.5\",\"5\":\"1.5\",\"6\":\"versicolor\"},{\"1\":\"70\",\"2\":\"5.6\",\"3\":\"2.5\",\"4\":\"3.9\",\"5\":\"1.1\",\"6\":\"versicolor\"},{\"1\":\"71\",\"2\":\"5.9\",\"3\":\"3.2\",\"4\":\"4.8\",\"5\":\"1.8\",\"6\":\"versicolor\"},{\"1\":\"72\",\"2\":\"6.1\",\"3\":\"2.8\",\"4\":\"4.0\",\"5\":\"1.3\",\"6\":\"versicolor\"},{\"1\":\"73\",\"2\":\"6.3\",\"3\":\"2.5\",\"4\":\"4.9\",\"5\":\"1.5\",\"6\":\"versicolor\"},{\"1\":\"74\",\"2\":\"6.1\",\"3\":\"2.8\",\"4\":\"4.7\",\"5\":\"1.2\",\"6\":\"versicolor\"},{\"1\":\"75\",\"2\":\"6.4\",\"3\":\"2.9\",\"4\":\"4.3\",\"5\":\"1.3\",\"6\":\"versicolor\"},{\"1\":\"76\",\"2\":\"6.6\",\"3\":\"3.0\",\"4\":\"4.4\",\"5\":\"1.4\",\"6\":\"versicolor\"},{\"1\":\"77\",\"2\":\"6.8\",\"3\":\"2.8\",\"4\":\"4.8\",\"5\":\"1.4\",\"6\":\"versicolor\"},{\"1\":\"78\",\"2\":\"6.7\",\"3\":\"3.0\",\"4\":\"5.0\",\"5\":\"1.7\",\"6\":\"versicolor\"},{\"1\":\"79\",\"2\":\"6.0\",\"3\":\"2.9\",\"4\":\"4.5\",\"5\":\"1.5\",\"6\":\"versicolor\"},{\"1\":\"80\",\"2\":\"5.7\",\"3\":\"2.6\",\"4\":\"3.5\",\"5\":\"1.0\",\"6\":\"versicolor\"},{\"1\":\"81\",\"2\":\"5.5\",\"3\":\"2.4\",\"4\":\"3.8\",\"5\":\"1.1\",\"6\":\"versicolor\"},{\"1\":\"82\",\"2\":\"5.5\",\"3\":\"2.4\",\"4\":\"3.7\",\"5\":\"1.0\",\"6\":\"versicolor\"},{\"1\":\"83\",\"2\":\"5.8\",\"3\":\"2.7\",\"4\":\"3.9\",\"5\":\"1.2\",\"6\":\"versicolor\"},{\"1\":\"84\",\"2\":\"6.0\",\"3\":\"2.7\",\"4\":\"5.1\",\"5\":\"1.6\",\"6\":\"versicolor\"},{\"1\":\"85\",\"2\":\"5.4\",\"3\":\"3.0\",\"4\":\"4.5\",\"5\":\"1.5\",\"6\":\"versicolor\"},{\"1\":\"86\",\"2\":\"6.0\",\"3\":\"3.4\",\"4\":\"4.5\",\"5\":\"1.6\",\"6\":\"versicolor\"},{\"1\":\"87\",\"2\":\"6.7\",\"3\":\"3.1\",\"4\":\"4.7\",\"5\":\"1.5\",\"6\":\"versicolor\"},{\"1\":\"88\",\"2\":\"6.3\",\"3\":\"2.3\",\"4\":\"4.4\",\"5\":\"1.3\",\"6\":\"versicolor\"},{\"1\":\"89\",\"2\":\"5.6\",\"3\":\"3.0\",\"4\":\"4.1\",\"5\":\"1.3\",\"6\":\"versicolor\"},{\"1\":\"90\",\"2\":\"5.5\",\"3\":\"2.5\",\"4\":\"4.0\",\"5\":\"1.3\",\"6\":\"versicolor\"},{\"1\":\"91\",\"2\":\"5.5\",\"3\":\"2.6\",\"4\":\"4.4\",\"5\":\"1.2\",\"6\":\"versicolor\"},{\"1\":\"92\",\"2\":\"6.1\",\"3\":\"3.0\",\"4\":\"4.6\",\"5\":\"1.4\",\"6\":\"versicolor\"},{\"1\":\"93\",\"2\":\"5.8\",\"3\":\"2.6\",\"4\":\"4.0\",\"5\":\"1.2\",\"6\":\"versicolor\"},{\"1\":\"94\",\"2\":\"5.0\",\"3\":\"2.3\",\"4\":\"3.3\",\"5\":\"1.0\",\"6\":\"versicolor\"},{\"1\":\"95\",\"2\":\"5.6\",\"3\":\"2.7\",\"4\":\"4.2\",\"5\":\"1.3\",\"6\":\"versicolor\"},{\"1\":\"96\",\"2\":\"5.7\",\"3\":\"3.0\",\"4\":\"4.2\",\"5\":\"1.2\",\"6\":\"versicolor\"},{\"1\":\"97\",\"2\":\"5.7\",\"3\":\"2.9\",\"4\":\"4.2\",\"5\":\"1.3\",\"6\":\"versicolor\"},{\"1\":\"98\",\"2\":\"6.2\",\"3\":\"2.9\",\"4\":\"4.3\",\"5\":\"1.3\",\"6\":\"versicolor\"},{\"1\":\"99\",\"2\":\"5.1\",\"3\":\"2.5\",\"4\":\"3.0\",\"5\":\"1.1\",\"6\":\"versicolor\"},{\"1\":\"100\",\"2\":\"5.7\",\"3\":\"2.8\",\"4\":\"4.1\",\"5\":\"1.3\",\"6\":\"versicolor\"},{\"1\":\"101\",\"2\":\"6.3\",\"3\":\"3.3\",\"4\":\"6.0\",\"5\":\"2.5\",\"6\":\"virginica\"},{\"1\":\"102\",\"2\":\"5.8\",\"3\":\"2.7\",\"4\":\"5.1\",\"5\":\"1.9\",\"6\":\"virginica\"},{\"1\":\"103\",\"2\":\"7.1\",\"3\":\"3.0\",\"4\":\"5.9\",\"5\":\"2.1\",\"6\":\"virginica\"},{\"1\":\"104\",\"2\":\"6.3\",\"3\":\"2.9\",\"4\":\"5.6\",\"5\":\"1.8\",\"6\":\"virginica\"},{\"1\":\"105\",\"2\":\"6.5\",\"3\":\"3.0\",\"4\":\"5.8\",\"5\":\"2.2\",\"6\":\"virginica\"},{\"1\":\"106\",\"2\":\"7.6\",\"3\":\"3.0\",\"4\":\"6.6\",\"5\":\"2.1\",\"6\":\"virginica\"},{\"1\":\"107\",\"2\":\"4.9\",\"3\":\"2.5\",\"4\":\"4.5\",\"5\":\"1.7\",\"6\":\"virginica\"},{\"1\":\"108\",\"2\":\"7.3\",\"3\":\"2.9\",\"4\":\"6.3\",\"5\":\"1.8\",\"6\":\"virginica\"},{\"1\":\"109\",\"2\":\"6.7\",\"3\":\"2.5\",\"4\":\"5.8\",\"5\":\"1.8\",\"6\":\"virginica\"},{\"1\":\"110\",\"2\":\"7.2\",\"3\":\"3.6\",\"4\":\"6.1\",\"5\":\"2.5\",\"6\":\"virginica\"},{\"1\":\"111\",\"2\":\"6.5\",\"3\":\"3.2\",\"4\":\"5.1\",\"5\":\"2.0\",\"6\":\"virginica\"},{\"1\":\"112\",\"2\":\"6.4\",\"3\":\"2.7\",\"4\":\"5.3\",\"5\":\"1.9\",\"6\":\"virginica\"},{\"1\":\"113\",\"2\":\"6.8\",\"3\":\"3.0\",\"4\":\"5.5\",\"5\":\"2.1\",\"6\":\"virginica\"},{\"1\":\"114\",\"2\":\"5.7\",\"3\":\"2.5\",\"4\":\"5.0\",\"5\":\"2.0\",\"6\":\"virginica\"},{\"1\":\"115\",\"2\":\"5.8\",\"3\":\"2.8\",\"4\":\"5.1\",\"5\":\"2.4\",\"6\":\"virginica\"},{\"1\":\"116\",\"2\":\"6.4\",\"3\":\"3.2\",\"4\":\"5.3\",\"5\":\"2.3\",\"6\":\"virginica\"},{\"1\":\"117\",\"2\":\"6.5\",\"3\":\"3.0\",\"4\":\"5.5\",\"5\":\"1.8\",\"6\":\"virginica\"},{\"1\":\"118\",\"2\":\"7.7\",\"3\":\"3.8\",\"4\":\"6.7\",\"5\":\"2.2\",\"6\":\"virginica\"},{\"1\":\"119\",\"2\":\"7.7\",\"3\":\"2.6\",\"4\":\"6.9\",\"5\":\"2.3\",\"6\":\"virginica\"},{\"1\":\"120\",\"2\":\"6.0\",\"3\":\"2.2\",\"4\":\"5.0\",\"5\":\"1.5\",\"6\":\"virginica\"},{\"1\":\"121\",\"2\":\"6.9\",\"3\":\"3.2\",\"4\":\"5.7\",\"5\":\"2.3\",\"6\":\"virginica\"},{\"1\":\"122\",\"2\":\"5.6\",\"3\":\"2.8\",\"4\":\"4.9\",\"5\":\"2.0\",\"6\":\"virginica\"},{\"1\":\"123\",\"2\":\"7.7\",\"3\":\"2.8\",\"4\":\"6.7\",\"5\":\"2.0\",\"6\":\"virginica\"},{\"1\":\"124\",\"2\":\"6.3\",\"3\":\"2.7\",\"4\":\"4.9\",\"5\":\"1.8\",\"6\":\"virginica\"},{\"1\":\"125\",\"2\":\"6.7\",\"3\":\"3.3\",\"4\":\"5.7\",\"5\":\"2.1\",\"6\":\"virginica\"},{\"1\":\"126\",\"2\":\"7.2\",\"3\":\"3.2\",\"4\":\"6.0\",\"5\":\"1.8\",\"6\":\"virginica\"},{\"1\":\"127\",\"2\":\"6.2\",\"3\":\"2.8\",\"4\":\"4.8\",\"5\":\"1.8\",\"6\":\"virginica\"},{\"1\":\"128\",\"2\":\"6.1\",\"3\":\"3.0\",\"4\":\"4.9\",\"5\":\"1.8\",\"6\":\"virginica\"},{\"1\":\"129\",\"2\":\"6.4\",\"3\":\"2.8\",\"4\":\"5.6\",\"5\":\"2.1\",\"6\":\"virginica\"},{\"1\":\"130\",\"2\":\"7.2\",\"3\":\"3.0\",\"4\":\"5.8\",\"5\":\"1.6\",\"6\":\"virginica\"},{\"1\":\"131\",\"2\":\"7.4\",\"3\":\"2.8\",\"4\":\"6.1\",\"5\":\"1.9\",\"6\":\"virginica\"},{\"1\":\"132\",\"2\":\"7.9\",\"3\":\"3.8\",\"4\":\"6.4\",\"5\":\"2.0\",\"6\":\"virginica\"},{\"1\":\"133\",\"2\":\"6.4\",\"3\":\"2.8\",\"4\":\"5.6\",\"5\":\"2.2\",\"6\":\"virginica\"},{\"1\":\"134\",\"2\":\"6.3\",\"3\":\"2.8\",\"4\":\"5.1\",\"5\":\"1.5\",\"6\":\"virginica\"},{\"1\":\"135\",\"2\":\"6.1\",\"3\":\"2.6\",\"4\":\"5.6\",\"5\":\"1.4\",\"6\":\"virginica\"},{\"1\":\"136\",\"2\":\"7.7\",\"3\":\"3.0\",\"4\":\"6.1\",\"5\":\"2.3\",\"6\":\"virginica\"},{\"1\":\"137\",\"2\":\"6.3\",\"3\":\"3.4\",\"4\":\"5.6\",\"5\":\"2.4\",\"6\":\"virginica\"},{\"1\":\"138\",\"2\":\"6.4\",\"3\":\"3.1\",\"4\":\"5.5\",\"5\":\"1.8\",\"6\":\"virginica\"},{\"1\":\"139\",\"2\":\"6.0\",\"3\":\"3.0\",\"4\":\"4.8\",\"5\":\"1.8\",\"6\":\"virginica\"},{\"1\":\"140\",\"2\":\"6.9\",\"3\":\"3.1\",\"4\":\"5.4\",\"5\":\"2.1\",\"6\":\"virginica\"},{\"1\":\"141\",\"2\":\"6.7\",\"3\":\"3.1\",\"4\":\"5.6\",\"5\":\"2.4\",\"6\":\"virginica\"},{\"1\":\"142\",\"2\":\"6.9\",\"3\":\"3.1\",\"4\":\"5.1\",\"5\":\"2.3\",\"6\":\"virginica\"},{\"1\":\"143\",\"2\":\"5.8\",\"3\":\"2.7\",\"4\":\"5.1\",\"5\":\"1.9\",\"6\":\"virginica\"},{\"1\":\"144\",\"2\":\"6.8\",\"3\":\"3.2\",\"4\":\"5.9\",\"5\":\"2.3\",\"6\":\"virginica\"},{\"1\":\"145\",\"2\":\"6.7\",\"3\":\"3.3\",\"4\":\"5.7\",\"5\":\"2.5\",\"6\":\"virginica\"},{\"1\":\"146\",\"2\":\"6.7\",\"3\":\"3.0\",\"4\":\"5.2\",\"5\":\"2.3\",\"6\":\"virginica\"},{\"1\":\"147\",\"2\":\"6.3\",\"3\":\"2.5\",\"4\":\"5.0\",\"5\":\"1.9\",\"6\":\"virginica\"},{\"1\":\"148\",\"2\":\"6.5\",\"3\":\"3.0\",\"4\":\"5.2\",\"5\":\"2.0\",\"6\":\"virginica\"},{\"1\":\"149\",\"2\":\"6.2\",\"3\":\"3.4\",\"4\":\"5.4\",\"5\":\"2.3\",\"6\":\"virginica\"},{\"1\":\"150\",\"2\":\"5.9\",\"3\":\"3.0\",\"4\":\"5.1\",\"5\":\"1.8\",\"6\":\"virginica\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\nWie wir sehen gibt es mehrere Spalten für die Länge und Breite der Blätter (e.g., `Sepal.Length`), sowie eine Spalte mit der Spezies (`Species`).\n\nWerfen wir nun einen genaueren Blick in die Daten.\n\n## Daten anschauen\n\nUm schnell einen Überblick über die Daten zu bekommen, eignet sich die `summary()` Funktion:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(dataset)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       X           Sepal.Length    Sepal.Width     Petal.Length  \n Min.   :  1.00   Min.   :4.300   Min.   :2.000   Min.   :1.000  \n 1st Qu.: 38.25   1st Qu.:5.100   1st Qu.:2.800   1st Qu.:1.600  \n Median : 75.50   Median :5.800   Median :3.000   Median :4.350  \n Mean   : 75.50   Mean   :5.843   Mean   :3.057   Mean   :3.758  \n 3rd Qu.:112.75   3rd Qu.:6.400   3rd Qu.:3.300   3rd Qu.:5.100  \n Max.   :150.00   Max.   :7.900   Max.   :4.400   Max.   :6.900  \n  Petal.Width      Species         \n Min.   :0.100   Length:150        \n 1st Qu.:0.300   Class :character  \n Median :1.300   Mode  :character  \n Mean   :1.199                     \n 3rd Qu.:1.800                     \n Max.   :2.500                     \n```\n:::\n:::\n\n\nHier sehen wir direkt deskriptive Werte wie Minimum, Maximum oder Median für jede einzelne Spalte. Für die Spalte `Species` sehen wir allerdings lediglich, dass diese als character gespeichert ist, wenngleich es sich eigentlich um einen Faktor handelt, da wir ja bereits wissen, dass es drei Spezies gibt. Das können wir ändern:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset$Species <- as.factor(dataset$Species)\n```\n:::\n\n\nFühren wir nun den Code erneut aus, sehen wir die entsprechenden Faktorlevel bzw. Ausprägungen und die jeweiligen Datenpunkte pro Ausprägung:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(dataset)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       X           Sepal.Length    Sepal.Width     Petal.Length  \n Min.   :  1.00   Min.   :4.300   Min.   :2.000   Min.   :1.000  \n 1st Qu.: 38.25   1st Qu.:5.100   1st Qu.:2.800   1st Qu.:1.600  \n Median : 75.50   Median :5.800   Median :3.000   Median :4.350  \n Mean   : 75.50   Mean   :5.843   Mean   :3.057   Mean   :3.758  \n 3rd Qu.:112.75   3rd Qu.:6.400   3rd Qu.:3.300   3rd Qu.:5.100  \n Max.   :150.00   Max.   :7.900   Max.   :4.400   Max.   :6.900  \n  Petal.Width          Species  \n Min.   :0.100   setosa    :50  \n 1st Qu.:0.300   versicolor:50  \n Median :1.300   virginica :50  \n Mean   :1.199                  \n 3rd Qu.:1.800                  \n Max.   :2.500                  \n```\n:::\n:::\n\n\nDas Gleiche würden wir sehen, wenn wir mit der Funktion `levels` die Ausprägungen für die entsprechende Spalte abfragen:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlevels(dataset$Species)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"setosa\"     \"versicolor\" \"virginica\" \n```\n:::\n:::\n\n\n## Deskriptive Analysen\n\nStrenggenommen hat uns die `summary()` Funktion bereits viele interessante Werte für alle Spalten gegeben. Falls wir dies aber für eine einzelne Spalte machen wollen, können wir dies natürlich auch tun:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(dataset$Sepal.Length)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 5.843333\n```\n:::\n:::\n\n\nWie wir sehen, kann die `mean()` Funktion mit einer Spalte eines Dataframes (über den `$`-Operator ausgewählt) arbeiten, und gibt uns den entsprechenden Mittelwert aus. Gleich verhält es sich mit der Standardabweichung:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsd(dataset$Sepal.Length)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.8280661\n```\n:::\n:::\n\n\nWie wir in der ersten Seminarstunde bereits gesagt haben, bietet R als Statistiksoftware natürlich eine Vielzahl eingebauter Standard-Funktionen. So können wir etwa auch gleich die Korrelation zwischen `Sepal.Width` und `Sepal.Length` berechnen...\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncor(dataset$Sepal.Length,dataset$Sepal.Width, method = \"pearson\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] -0.1175698\n```\n:::\n:::\n\n\n... oder die Quantile ausgeben lassen:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nquantile(dataset$Sepal.Length)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  0%  25%  50%  75% 100% \n 4.3  5.1  5.8  6.4  7.9 \n```\n:::\n:::\n\n\nDas sind natürlich alles nur Beispiele der im `base` Package enthaltenen Funktionen - alle weiteren können wir bspw. in der [Dokumentation](https://stat.ethz.ch/R-manual/R-devel/library/base/html/00Index.html) oder über `help(base)` finden.\n\n## Datensatz aufteilen\n\nAngenommen, wir wollen die Spalte `Species` von den anderen Spalten trennen, und in einem separaten Aufgabenblatt abspeichern. Dies können wir über die `$` und `<-` Operatoren machen:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset_species <- dataset$Species\n```\n:::\n\n\nDies speichert die entsprechende Spalte als Objekt `dataset_species` in unserem Environment. Dies geschieht als Vektor des Typs `factor`. Die Länge des Vektors entspricht natürlich der Anzahl an Observations:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlength(dataset_species)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 150\n```\n:::\n:::\n\n\nNun wollen wir einen Schritt weitergehen, und nicht nur einzelne Spalten extrahieren, sondern unseren Datensatz auf Basis gewisser Kriterien filtern, bzw. ein Subset bilden. Base R bietet dafür die `subset()` Funktion. Deren Syntax ist folgendermaßen:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset_filtered <- subset(dataset, Sepal.Width > 3)\n```\n:::\n\n\nWir definieren das betreffende Objekt `dataset`, sowie die Spalte, nach der wir filtern wollen (`Sepal.Width`) und unsere Bedingung (\\> 3).\n\nWir wollen aber noch weiter spezifizieren. Angenommen, wir wollen, dass zusätzlich nur Blumen der Spezies `setosa` im Datensatz enthalten sind, und wir nur die Spalten `Sepal.Width` und `Sepal.Length` betrachten wollen:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset_filtered2 <- subset(dataset, Sepal.Width > 3 & Species == \"setosa\",select = c(Sepal.Width,Sepal.Length,Species))\n```\n:::\n\n\nDer obige Befehl hat das Objekt `dataset_filtered2` erzeugt, welches die entsprechenden Filterungen beinhaltet.\n\nWir haben nun also gelernt, wie wir sogenannte *Subsets* von Dataframes auf Basis von Variablenausprägungen und Spalten erzeugen können, und diese enstprechend in unserem Environment speichern können.\n\nWenn wir nun allerdings einen Blick in unser Environment werfen, und uns vorstellen, wie dieses nach einer R-Session aussehen könnte, stellt sich vielleicht eine Frage: **Wie können wir den Überblick behalten?**\n\n![[How the author imagines Environment overload]{style=\"text-align: center\"}](assets/img/overload.png){fig-align=\"center\" width=\"800\"}\n\nDabei, sowie bei vielen anderen Dingen die mit **Data Wrangling** zu tun haben, hilft uns das `dplyr` package. Dazu auf der [nächsten Seite](datawrangling_dplyr.qmd) mehr.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}